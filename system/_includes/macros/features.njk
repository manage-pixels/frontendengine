{%- macro category(tag = 'posts') %}
  {%- set data = collections[tag] %}
  {% for content in data %}
    <article>
      <h3 id="{{ content.data.title or 'no-slug' | slug }}">
        <a href="{{ content.url }}">{{ content.data.title }}</a>
      </h3>
      <p>
        <time datetime="{{ page.date.toLocaleString() }}">
          Posted:
          {{ content.date  }}
          <!-- Posted: {{ hlp.11ty.formatDate(content.date.toUTCString()) }} -->
        </time>
      </p>
      <p>
        {% if content.data.summary.length -%}
          {{ content.data.summary }}
        {% else %}
          {{ hlp.11ty.noHtml(content.templateContent) |
    truncate(300) }}
        {% endif -%}
      </p>
      <p>
        {{ content.data.tags }}
      </p>
      <footer>
        <a href="{{ content.url }}" role="button">
          <em>Continue reading</em>
        </a>
      </footer>
      <hr/>
    </article>
  {% endfor %}

{% endmacro %}

{# adds a grid styled collection to the page #}
{# attributes tag - tag, limit - number of items, words - word count #}
{%- macro featured(tag = 'posts', limit = 3, words = 200) -%}
  {%- set feature = hlp.11ty.limit(collections[tag], limit) | reverse -%}
  <section>
    <div role="list">
      {%- for item in feature %}
        <div role="listitem">
          <h3>
            <i class="{{ item.data.icon }}"></i>
            {{ item.data.title }}
          </h3>
          <p>
            {{ hlp.11ty.noHtml(item.templateContent) |
    truncate(words) }}
          </p>
        </div>
      {%- endfor %}
    </div>
  </section>
{%- endmacro -%}

{# display a list with title and links #}

{# attributes tag - tag, limit - number of items #}
{%- macro postLinks(tag = 'posts', limit = 3) -%}
  {%- set feature = hlp.11ty.limit(collections[tag], limit) | reverse -%}
  <section>
    <span>
      <ul role="list">
        {%- for item in feature %}
          <li role="listitem">
            {% if item.data.coverPhoto %}
              <picture>
                <img src="{{ item.data.coverPhoto}}" alt="Image"/>
              </picture>
            {% endif %}
            <h3>
              <i class="{{ item.data.icon }}"></i>
              <a href="{{ content.url }}" title="{{ item.data.title | slug}}">
                {{ item.data.title }}
              </a>
            </h3>
          </li>
        {%- endfor %}
      </ul>
    </span>
  </section>
{%- endmacro -%}

{# display a list with image/links or title #}
{# attributes tag - tag, limit - number of items #}

{%- macro postImages(tag = 'posts', limit = 3) -%}
  {%- set feature = hlp.11ty.limit(collections[tag], limit) | reverse -%}
  <section>
    <span>
      <ul role="list">
        {%- for item in feature %}
          <li role="listitem">
            <a href="" title="{{ item.data.title | slug}}">
              {% if item.data.coverPhoto %}
                <picture>
                  <img src="{{ item.data.coverPhoto}}" alt="Image"/>
                </picture>
              {% else %}
                <h3>
                  <i class="{{ item.data.icon }}"></i>
                  <a href="{{ content.url }}" title="{{ item.data.title | slug}}">
                    {{ item.data.title }}
                  </a>
                </h3>
              {% endif %}

            </a>
          </li>
        {%- endfor %}
      </ul>
    </span>
  </section>
{%- endmacro -%}
